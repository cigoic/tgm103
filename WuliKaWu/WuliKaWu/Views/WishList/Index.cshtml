<<<<<<< HEAD
<<<<<<< HEAD
=======
>>>>>>> [新增]AddWishList Action 及 AddToCart Action
﻿<div id="wishlistIndex">
    <div class="breadcrumb-area bg-gray-4 breadcrumb-padding-1">
        <div class="container">
            <div class="breadcrumb-content text-center">
                <h2>Wishlist</h2>
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
                <ul>    
=======
                <ul>
>>>>>>> [新增]CheckoutApiController及CheckoutDetailModel、CheckoutModel
                    <li><a href="/wishlist/Index">Home</a></li>
=======
                <ul>
                    <li><a asp-controller="Home" asp-action="Index">Home</a></li>
>>>>>>> [新增]AddWishList Action 及 AddToCart Action
=======
                <ul>    
                    <li><a href="/wishlist/Index">Home</a></li>
>>>>>>> [修改]Addtocart Action
                    <li><i class="ti-angle-right"></i></li>
                    <li>Wishlist</li>
                </ul>
            </div>
        </div>
        <div class="breadcrumb-img-1">
<<<<<<< HEAD
<<<<<<< HEAD
            <img src="/assets/images/banner/breadcrumb-1.png" alt="">
        </div>
        <div class="breadcrumb-img-2">
            <img src="/assets/images/banner/breadcrumb-2.png" alt="">
=======
            <img src="~/assets/images/banner/breadcrumb-1.png" alt="">
        </div>
        <div class="breadcrumb-img-2">
            <img src="~/assets/images/banner/breadcrumb-2.png" alt="">
>>>>>>> [新增]AddWishList Action 及 AddToCart Action
=======
            <img src="/assets/images/banner/breadcrumb-1.png" alt="">
        </div>
        <div class="breadcrumb-img-2">
            <img src="/assets/images/banner/breadcrumb-2.png" alt="">
>>>>>>> [新增]RemoveCartAction及RemoveWishList Action
        </div>
    </div>
    <div class="wishlist-area pb-100 pt-100">
        <div class="container">
            <div class="row">
                <div class="col-12">
<<<<<<< HEAD
<<<<<<< HEAD
                    <form>
=======
                    <form action="#">
>>>>>>> [新增]AddWishList Action 及 AddToCart Action
=======
                    <form>
>>>>>>> [新增]RemoveCartAction及RemoveWishList Action
                        <div class="wishlist-table-content">
                            <div class="table-content table-responsive">
                                <table>
                                    <thead>
                                        <tr>
                                            <th class="width-remove"></th>
                                            <th class="width-thumbnail"></th>
                                            <th class="width-name">Product</th>
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
                                            <th class="width-price"> Price </th>                                            
=======
                                            <th class="width-price"> Price </th>
                                            @*<th class="width-stock-status"> Stock status </th>*@
>>>>>>> [新增]AddWishList Action 及 AddToCart Action
=======
                                            <th class="width-price"> Price </th>                                            
>>>>>>> [新增]RemoveCartAction及RemoveWishList Action
=======
                                            <th class="width-price">Price</th>                                                                                  
>>>>>>> [新增]CartGetModel及WishListGetModel 的資料欄位
=======
                                            <th class="width-price">Price</th>
>>>>>>> [新增]CheckoutApiController及CheckoutDetailModel、CheckoutModel
                                            <th class="width-wishlist-cart"></th>
                                        </tr>
                                    </thead>
                                    <tbody>
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
=======
>>>>>>> [新增]RemoveCartAction及RemoveWishList Action
                                        <tr v-for="product in productInThisWishList">                                        
                                            <td class="pro-remove">
                                                <button type="button" v-on:click="RemoveToWishlist(product.wishlistId)"><i class=" ti-trash "></i></button>
<<<<<<< HEAD
                                             </td>
<<<<<<< HEAD
<<<<<<< HEAD
                                            <td class="product-thumbnail">
=======
                                            @*<td class="product-thumbnail">
>>>>>>> [修改]WishlistApi 的getwishlist
                                                <a href="/Products/ProductDetails"><img src="/assets/images/cart/cart-1.jpg" alt=""></a>
                                            </td>*@
=======
                                             </td>                                            
<<<<<<< HEAD
>>>>>>> [修改]Cartapicontroller的gettocart action(有抓到值,前端渲染不完整)
                                            @*找class可以去套版*@
=======
                                            
>>>>>>> [修改]_layout 修改checkout路徑
=======
                                        <tr v-for="product in productInThisWishList">
                                            <td class="pro-remove">
                                                <button type="button" v-on:click="RemoveToWishlist(product.wishlistId)"><i class=" ti-trash "></i></button>
                                            </td>
>>>>>>> [新增]CheckoutApiController及CheckoutDetailModel、CheckoutModel
                                            <td class="product-thumbnail">
                                                <img class="width-thumbnail" style="width:120px" :src="product.picturePath[0]"></img>
                                            </td>
                                            <td class="product-name">
                                                <h5><a href="/Products/ProductDetails">{{product.productName}}</a></h5>
                                            </td>
                                            <td class="product-price">
                                                <span :class="{'old-price':product.discount}">${{product.price}}</span>
                                                <span class="new-price" v-if="product.discount">${{product.sellingPrice}}</span>
                                            </td>
                                            @*加入購物車Button 尚未完成*@
                                            <td class="wishlist-cart btn-hover">
                                                <button class="product-action-btn-2" type="button" title="Add To Cart" v-on:click="addToCart(product.productId)"><i class="pe-7s-cart"></i> Add to cart</button>
                                            </td>
<<<<<<< HEAD
                                        </tr>                                       
=======
                                        <tr v-for="wishlist in wishlists" :key="wishlist.WishListId">
=======
                                        <tr v-for="wishlist in productInThisWishList" :key="wishlist.WishListId" >
>>>>>>> [新增]AddtToWishList Action
                                            <td class="product-remove"><a href="#">×</a></td>
=======
>>>>>>> [新增]RemoveCartAction及RemoveWishList Action
                                            <td class="product-thumbnail">
                                                <a href="/Products/ProductDetails"><img src="/assets/images/cart/cart-1.jpg" alt=""></a>
                                            </td>
                                            <td class="product-name">
                                                <h5><a href="/Products/ProductDetails">{{product.productName}}</a></h5>
                                            </td>
                                            <td class="product-price">
                                                <span :class="{'old-price':product.price}">${{product.price}}</span>
                                                <span class="new-price" v-if="product.sellingPrice">${{product.sellingPrice}}</span>
                                            </td>                                         
                                            <td class="wishlist-cart btn-hover">
                                                <button type="button" v-on:click="AddToCart(cart.cartId)">Add to Cart</button>
                                            </td>
<<<<<<< HEAD
                                            @* <td class="stock-status">
                                            <span><i class="las la-check"></i> In Stock</span>
                                            </td>*@
                                            <td class="wishlist-cart btn-hover"><a asp-action="Index" asp-controller="Cart">Add to Cart</a></td>
                                        </tr>
>>>>>>> [新增]AddWishList Action 及 AddToCart Action
=======
                                        </tr>                                       
>>>>>>> [新增]AddtToWishList Action
=======
                                        </tr>
>>>>>>> [新增]CheckoutApiController及CheckoutDetailModel、CheckoutModel
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<<<<<<< HEAD

@section Scripts{

    <script>
        let wishlist = new Vue({
            el: "#wishlistIndex",
            data: {
                productInThisWishList: {
                        wishlistId: []
                        
                }
            },
            mounted: function () 
            {
                var self = this;
                fetch('/api/wishlist/GetWishList/')
                    .then(function (response) { return response.json() })
                    .then(function (result) {
                        console.log(result);
                        self.productInThisWishList = result;
                    })
            },
            methods:
            {
                 AddToCart(id) 
                 {
                    console.log("CPid:", id)
                    this.queryWishListBaseURL = '/api/cart/AddToCart/' + id;
                    fetch(this.queryWishListBaseURL,{method: "POST" })
                        .then(function (response) { return response.json() })
                        .then(function (result) {
                            alert(result);                            
                        })
                  },
                RemoveToWishlist(id)
                {
                    console.log("RPid",id)
                    this.queryWishListBaseURL = '/api/wishlist/RemoveToWishlist/' + id;
                    fetch(this.queryWishListBaseURL,{method:"POST"})
                        .then(function (reponse) {return response.json()})
                        .then(function (result) {
                            alert(result);
                        })
                }

            }
        });

    </script>

}
=======
﻿@model IEnumerable<WuliKaWu.Data.WishList>
=======
>>>>>>> [新增]AddWishList Action 及 AddToCart Action

@section Scripts{

    <script>
        let app = new Vue({
            el: "#wishlistIndex",
            data: {
                productInThisWishList: {
                    wishlistId: [],
                    product: [],
                }
            },
            mounted: function () {
                var self = this;
                fetch('/api/wishlist/GetWishList/')
                    .then(function (response) { return response.json() })
                    .then(function (result) {
                        console.log(result);
                        self.productInThisWishList = result;
                    })
            },
            methods:
            {
                addToCart: function (productId) {
                    console.log("CPid:", productId)
                    this.queryCartBaseURL = '/api/cart/AddToCart/' + productId;
                    fetch(this.queryCartBaseURL, { method: "POST" })
                        .then(function (response) {
                            console.table(response)
                            let cartp = response
                            return response.json()
                        })
                        .then(function (result) {
                            var al = {
                                icon: 'sucess',
                                title: '成功',
                                text: result.message,
                                timer: 2000
                            };
                            if (!result.status) {
                                al.icon = "error";
                                al.title = "失敗";
                            }
                            Swal.fire(al)
                        })
                },
                RemoveToWishlist(id) {
                    console.log("RPid", id)
                    this.queryWishListBaseURL = '/api/wishlist/RemoveToWishlist/' + id;
                    fetch(this.queryWishListBaseURL, { method: "POST" })
                        .then(function (reponse) { return response.json() })
                        .then(function (result) {
                            alert(result);
                        })
                }

            }
        });

<<<<<<< HEAD
<p>
    <a asp-action="Create">Create New</a>
</p>
<table class="table">
    <thead>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.MemberId)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.ProductId)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.ProductName)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Price)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.SellingPrice)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Discount)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.PicturePath)
            </th>
            <th></th>
        </tr>
    </thead>
    <tbody>
@foreach (var item in Model) {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.MemberId)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.ProductId)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.ProductName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Price)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.SellingPrice)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Discount)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.PicturePath)
            </td>
            <td>
                <a asp-action="Edit" asp-route-id="@item.WishListId">Edit</a> |
                <a asp-action="Details" asp-route-id="@item.WishListId">Details</a> |
                <a asp-action="Delete" asp-route-id="@item.WishListId">Delete</a>
            </td>
        </tr>
}
    </tbody>
</table>
>>>>>>> 新增WishListTable及Api
=======
    </script>

}
>>>>>>> [新增]AddWishList Action 及 AddToCart Action
